(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{192:function(t,e,a){"use strict";a.r(e);var n=a(0),s=Object(n.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t._m(0),t._m(1),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),a("ol",{attrs:{start:"8"}},[t._m(15),a("li",[a("p",[t._v("Start server")]),t._m(16),t._m(17),a("ul",[a("li",[a("p",[t._v("Open browser and access "),a("a",{attrs:{href:"http://localhost:9000",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:9000"),a("OutboundLink")],1)]),a("img",{attrs:{src:t.$withBase("/training/application.png")}})]),a("li",[a("p",[t._v("Access swagger at "),a("a",{attrs:{href:"http://localhost:9000/swagger",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:9000/swagger"),a("OutboundLink")],1)])]),a("li",[a("p",[t._v('Register a company by name "Sample Company": '),a("a",{attrs:{href:"http://localhost:9000/swagger#!/Company3240Writer41/registerCompany",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:9000/swagger#!/Company3240Writer41/registerCompany"),a("OutboundLink")],1)]),a("img",{attrs:{src:t.$withBase("/training/register-company.png")}})]),a("li",[a("p",[t._v("Get the company details: "),a("a",{attrs:{href:"http://localhost:9000/swagger#!/Company40Reader41/getCompany",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:9000/swagger#!/Company40Reader41/getCompany"),a("OutboundLink")],1)]),a("img",{attrs:{src:t.$withBase("/training/get-company.png")}})])])]),t._m(18),t._m(19)])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"play-module"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#play-module","aria-hidden":"true"}},[this._v("#")]),this._v(" Play Module")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"creating-a-play-module"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#creating-a-play-module","aria-hidden":"true"}},[this._v("#")]),this._v(" Creating a play module")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Open "),e("code",[this._v("Mould.ksmile")]),this._v(" file and add the play module definition as follows")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("div",{staticClass:"highlight-lines"},[e("br"),e("br"),e("br"),e("br"),e("div",{staticClass:"highlighted"},[this._v(" ")]),e("br"),e("br")]),e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("section learning {\n\tdata-module LearningData at com.metastay.learningdata\n\tmongo-module LearningMongo(LearningData) at com.metastay.leaningmongo\n\tdomain-module LearningDomain(LearningMongo) at com.metastay.learningdomain\n\tplay-module LearningWeb(LearningDomain) at learningweb\n}\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"2"}},[e("li",[e("p",[this._v("Run smile command in sbt")])]),e("li",[e("p",[this._v("Refresh the project in eclipse. You will see the "),e("code",[this._v("LearningWeb.kplay")]),this._v(" file generated with the following default route:")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('route "learningweb"\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"web-writers-aka-command-action"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#web-writers-aka-command-action","aria-hidden":"true"}},[this._v("#")]),this._v(" Web-Writers aka Command-action")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Lets expose the commands defined above as web apis")]),e("li",[this._v("Open "),e("code",[this._v("LearningWeb.kplay")]),this._v(" file in eclipse")]),e("li",[this._v("Define a web writer for company")]),e("li",[this._v("Define registerCompany as a POST api")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("web-writer Company {\n\tcommand-action registerCompany (POST) LearningDomain::Company.registerCompany\n}\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",{attrs:{start:"5"}},[e("li",[this._v("Compile in sbt")]),e("li",[this._v("No more code to be written (yay!)")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"define-read-apis-in-webreader"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#define-read-apis-in-webreader","aria-hidden":"true"}},[this._v("#")]),this._v(" Define read apis in WebReader")])},function(){var t=this.$createElement,e=this._self._c||t;return e("ol",[e("li",[this._v("Lets define an api to find a company given its name")]),e("li",[this._v("Open "),e("code",[this._v("LeaningWeb.kplay")]),this._v(" file in eclipse")]),e("li",[this._v("Define a web reader for company apis")]),e("li",[this._v("Define the GET api getCompany with name as input")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("web-reader Company {\n\tview getCompany (GET) {\n\t\tinput (name:String)\n\t}\n}\n")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ol",{attrs:{start:"5"}},[a("li",[t._v("Compile in sbt")]),a("li",[t._v("You will find "),a("code",[t._v("CompanyWebReaderCode")]),t._v(" class created with the api "),a("strong",[t._v("getCompany")]),t._v(" defined and ready to implement")]),a("li",[t._v("Implement "),a("strong",[t._v("getCompany")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("object CompanyWebReaderCode extends CompanyWebReaderTrait {\n\toverride def getCompany: Request[GetCompanyView.Pre] => GetCompanyView.Output = GetCompanyView {\n\t\timport GetCompanyView._\n\t\trequest: Request[Input] =>\n\t\t\tval input = request.body\n\t\t\tval company = CompanyQuery().name.equalsIgnoreCase(input.name).findOne.get\n\t\t\tOutput(companyId = company._id, companyName = company.name, address = company.address)\n\t}\n}\n")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("p",[t._v("Add swagger to the project")]),a("ul",[a("li",[t._v("Open sbt console")]),a("li",[t._v("Run command "),a("strong",[t._v("add-swagger")])])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Mould"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" $ add-swagger\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("info"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" swagger added"),a("span",{attrs:{class:"token operator"}},[t._v("!")]),t._v("\n")])])]),a("ul",[a("li",[t._v("Open "),a("code",[t._v("LearningWeb.kplay")]),t._v(" file in eclipse")]),a("li",[t._v("Add the swagger definition, you can control the api access in swagger by exposing only the ones you wish to. For now letâ€™s keep all apis accessible by defining a swagger namespace as follows:")])]),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("swagger Company \n")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[this._v("Open sbt console")]),e("li",[this._v("Run the "),e("strong",[this._v("run")]),this._v(" command")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("Mould"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" $ run\n--- "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Running the application, auto-reloading is enabled"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" ---\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("info"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" p.c.s.NettyServer - Listening "),a("span",{attrs:{class:"token keyword"}},[t._v("for")]),t._v(" HTTP on /0:0:0:0:0:0:0:0:9000\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Server started, use Ctrl+D to stop and go back to the console"),a("span",{attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("Stop server")]),e("ul",[e("li",[this._v("Hit Ctrl+D inside sbt console to stop server")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("p",[this._v("Exercise:")]),e("ul",[e("li",[this._v("Enhance the getCompany api to not throw a RunTimeException when we try to look up a company which is not in the db.")]),e("li",[this._v("Define an api to update the company address.")]),e("li",[this._v("Define an api to list all the companies in db.")])])])}],!1,null,null,null);e.default=s.exports}}]);